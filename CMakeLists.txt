CMAKE_MINIMUM_REQUIRED(VERSION 3.25)
PROJECT(DHCPv4 LANGUAGES C)
SET(CMAKE_C_STANDARD 99)

#cmake --system-information | less
#cmake --help-command [command]

SET(CMAKE_RUNTIME_OUTPUT_DIRECTORY "${CMAKE_BINARY_DIR}/bin")
SET(CMAKE_LIBRARY_OUTPUT_DIRECTORY "${CMAKE_BINARY_DIR}/lib")
SET(CMAKE_ARCHIVE_OUTPUT_DIRECTORY "${CMAKE_BINARY_DIR}/lib")

CMAKE_HOST_SYSTEM_INFORMATION(RESULT OPSY QUERY OS_NAME)
IF(NOT ${OPSY} STREQUAL "Linux")
    MESSAGE(FATAL_ERROR "Unsupported OS")
ELSE()
    MESSAGE(STATUS "OS: ${OPSY}")
ENDIF()

LIST(APPEND CMAKE_MODULE_PATH "${CMAKE_CURRENT_LIST_DIR}/CMake")
INCLUDE(FindModulesPF)
search_with_pkg(cunit)

IF(FOUND_PKG)
    MESSAGE(STATUS "CUnit Founded")
ELSE()
    MESSAGE(FATAL_ERROR "$CUnit Not founded")
ENDIF()